<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>Milmon Problem</title>
		<link rel="stylesheet" href="file/css/mdui.min.css"/>
		<link rel="shortcut icon" type="image/x-icon" href="file/image/head.png">
		<style>
			#article{
				padding:24px;
			}
		</style>
		<script>
			function $(x){
				return document.getElementById(x);
			}
			function getParam(paramName) { 
				paramValue="",isFound=!1; 
				if(this.location.search.indexOf("?")==0 && this.location.search.indexOf("=")>1) { 
					arrSource=unescape(this.location.search).substring(1,this.location.search.length).split("&"),i=0; 
					while(i<arrSource.length && !isFound)
						arrSource[i].indexOf("=")>0 && arrSource[i].split("=")[0].toLowerCase()==paramName.toLowerCase() && 
							(paramValue=arrSource[i].split("=")[1], isFound = !0), i++;
				} 
				return paramValue == "" && (paramValue = null), paramValue 
			}

			function markdown(file){
				var result="";
				var inmathjax=false;
				var titlegrade=0;
				for(var i=0;i<file.length;i++){
					if(i==0||(file.charAt(i-1)=='\n'&&i>=2&&file.charAt(i-2)=='\n')){
						if(file.charAt(i)=='#'){
							var tot=0;
							while(file.charAt(i)=='#')i++,tot++;
							result=result+"<h"+tot+">";
							titlegrade=tot;
							continue;
						}
						else{
							result=result+"<p>";
							titlegrade=0;
						}
					}
					if(file.charAt(i)=='\n'&&file.charAt(i-1)!='\n'&&file.charAt(i+1)!='\n')
						result=result+" ";
					if(file.charAt(i)!='\n')result=result+file.charAt(i);
					if(i==file.length-1||(file.charAt(i+1)=='\n'&&file.charAt(i+2)=='\n')){
						if(titlegrade==0)result=result+"</p>";
						else result=result+"</h"+titlegrade+">";
					}
				}
				return result;
			}

            let url="https://molmin.github.io/problem/"+getParam("id")+"/statement.md";
            let httpRequest=new XMLHttpRequest();
            httpRequest.open('GET',url,true);
            httpRequest.send();
            httpRequest.onreadystatechange=function () {
                if (httpRequest.readyState==4 && httpRequest.status==200) {
                    let json=httpRequest.responseText;
                    $('article').innerHTML=markdown(json);
                }
            };
		</script>
	</head>
	<body class="mdui-theme-primary-purple" style="background:#B7EEF8">
		<!-- ---------标题栏--------------- -->
		<div class="mc-appbar mdui-appbar-fixed mdui-appbar mdui-color-theme mdui-hoverable">
			<div class="toolbar mdui-toolbar">
				<span class="mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white" mdui-drawer="{target:'#main-drawer',overlay:true,swipe:true}">
					<i class="mdui-icon material-icons">menu</i>
				</span>
				<a href="/" class="mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white">
					<i class="mdui-icon material-icons" style="color:#fff;">home</i>
				</a>
				<span class="mdui-typo-title" style="color:#fff;">Milmon Problem</span>
				<div class="mdui-toolbar-spacer"></div>
				<a href="" class="mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white">
					<i class="mdui-icon material-icons" style="color:#fff;">refresh</i>
				</a>
			</div>
		</div>

		<!-- ---------左侧菜单--------------- -->
		<div class="mdui-drawer mdui-drawer-close" id="main-drawer" style="background:rgb(52,152,219);color:white">
			<ul class="mdui-list">
				<a class="mdui-list-item mdui-ripple" href="/">
					<i class="mdui-list-item-icon mdui-icon material-icons" style="color:#fff;">home</i>
					<div class="mdui-list-item-content">首页</div>
				</a>
				<div class="mdui-divider mdui-m-y-0"></div>
				<a class="mdui-list-item mdui-ripple" href="blog">
					<i class="mdui-list-item-icon mdui-icon material-icons" style="color:#fff;">library_books</i>
					<div class="mdui-list-item-content">博文列表</div>
				</a>
				<a class="mdui-list-item mdui-ripple" href="problems">
					<i class="mdui-list-item-icon mdui-icon material-icons" style="color:#fff;">library_books</i>
					<div class="mdui-list-item-content">题目中心</div>
				</a>
				<a class="mdui-list-item mdui-ripple" href="tools">
					<i class="mdui-list-item-icon mdui-icon material-icons" style="color:#fff;">apps</i>
					<div class="mdui-list-item-content">工具中心</div>
				</a>
			</ul>
		</div>

        <!-- ---------- 文章 ---------- -->
		<br><br><br><br><br><br>
		<div class="mdui-container mdui-shadow-5" style="background:white">
			<div class="mdui-row">
				<div class="mdui-col-xs-12">
                    <div id="article">
                    </div>
                </div>
            </div>
        </div>

		<br><br>
		<!-- -----------联系方式-------------- -->

		<footer style="background:#444;">
			<div class="mdui-container mdui-p-t-3 mdui-text-center">
				<a class="mdui-btn mdui-btn-icon" mdui-tooltip="{content:'腾讯 QQ'}" href="tencent://AddContact/?subcmd=all&uin=115549630">
					<img src="file/image/qq.ico" width="20px" height="20px" style="margin:7px 0px 0px 0px;">
				</a>
				<a class="mdui-btn mdui-btn-icon" mdui-tooltip="{content:'洛谷'}" href="https://www.luogu.com.cn/user/234641">
					<img src="file/image/luogu.ico" width="20px" height="20px" style="margin:7px 0px 0px 0px;">
				</a>
				<a class="mdui-btn mdui-btn-icon" mdui-tooltip="{content:'CodeForces'}" href="https://codeforces.com/profile/liujiameng">
					<img src="file/image/codeforces.png" width="20px" height="20px" style="margin:8px 0px 0px 0px;">
				</a>
				<a class="mdui-btn mdui-btn-icon" mdui-tooltip="{content:'Atcoder'}" href="https://atcoder.jp/users/liujiameng">
					<img src="file/image/atcoder.png" width="20px" height="20px" style="margin:8px 0px 0px 0px;">
				</a>
			</div>
			<br><br><br>
		</footer>
		
		<!-- ------------------------------ -->
		<script src="file/script/mdui.min.js"></script>
	</body>
</html>
